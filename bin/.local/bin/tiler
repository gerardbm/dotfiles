#!/usr/bin/env bash
# Version: 1.0.0
#
# Description: Make a pattern
#
# Tools used:
# - convert

if [ "$1" == "-h" ]; then
cat <<EOF
Tiler: Make a pattern

Usage: tiler <filename1> <filename2>...

	- filename â†’ a list of files to compress.

Example: tiler picture.png figure.jpeg image.jpg

Conversion is done with convert(1).
EOF
exit 1
fi

for f in "${@:1}"; do
	NAME="${f%%.*}"
	EXT="${f##*.}"
	RES="${NAME}-res.${EXT}"
	TIL="${NAME}-tiled.${EXT}"

	convert -resize 720x720 "$f" "$RES"
	convert -size 3600x3600 tile:"$RES" -density 300 -units PixelsPerInch "$TIL"

done
